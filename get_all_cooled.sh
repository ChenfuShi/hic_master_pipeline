#!/bin/bash --login
#$ -pe smp.pe 4
#$ -j y
#$ -o /mnt/iusers01/jw01/mdefscs4/psa_functional_genomics/master_HiC_analyzer/master_pipeline/logs

#$ -t 1-91
INDEX=$((SGE_TASK_ID-1))
# CD to directory
cd /mnt/iusers01/jw01/mdefscs4/psa_functional_genomics/master_HiC_analyzer/master_pipeline


# activate all neeeded modules and packages
# source activate personal_software
source activate /mnt/jw01-aruk-home01/projects/functional_genomics/bin/HiC-Pro/conda_hicpro3

FILES=(PSA4920_CD4_ARIMA
PSA4920_CD8_ARIMA
PSA4941_CD8_ARIMA
PSA4942_CD4_ARIMA
PSA4942_CD8_ARIMA
PSA4943_CD8_ARIMA
PSA4944_CD4_ARIMA
PSA4954_CD8_ARIMA
PSA4960_CD8_ARIMA
PSA4961_CD8_ARIMA
PSA4962_CD4_ARIMA
PSA4962_CD8_ARIMA
PSA4963_CD4_ARIMA
PSA4963_CD8_ARIMA
NRHV121_CD4_ARIMA
NRHV321_CD4_ARIMA
PsA4950_CD4_ARIMA
PsA4950_CD8_ARIMA
NRHV121_CD8_ARIMA
NRHV321_CD8_ARIMA
PsA4954_CD4_ARIMA
PsA4946CD8_ARIMA
PsA4969CD8SF_ARIMA
H_Cart_ARIMA
P674H_Cart_ARIMA
P674Syn_ARIMA
JurkatE6_1_ARIMA
P663H_Cart_ARIMA
NRHV171CD8_ARIMA
PsA4958CD8_ARIMA
PsA4958CD4_ARIMA
HiC_0072_1_ARIMA
NRHV171CD4_ARIMA
PsA5009CD4_ARIMA
PsA5009CD8_ARIMA
PsA4959CD4_ARIMA
PsA5013CD4_ARIMA
PsA5024CD8_ARIMA
PsA5037CD8_ARIMA
PsA5037CD4_ARIMA
PsA5018CD4_ARIMA
PsA5018CD8_ARIMA
PsA5019CD8_ARIMA
PsA5021CD4_ARIMA
NRHV324CD8_ARIMA
PsA5022CD8_ARIMA
PsA5017CD4_ARIMA
PsA5017CD8_ARIMA
PsA5021CD8_ARIMA
NRHV151CD4_ARIMA
NRHV324CD4_ARIMA
PsA5019CD4_ARIMA
PsA5020CD8_ARIMA
PsA5023CD8_ARIMA
PsA5026CD8_ARIMA
PsA4959CD8SF_ARIMA
PsA5006CD8_ARIMA
PsA4957CD4_ARIMA
PsA4968CD4_ARIMA
PsA4968CD8_ARIMA
PsA5006CD4_ARIMA
NRHV326CD4_ARIMA
NRHV326CD8_ARIMA
PsA5014CD4_ARIMA
PsA5007CD4_ARIMA
PsA5010CD8_ARIMA
PsA5013CD8_ARIMA
PsA5014CD8_ARIMA
PsA5015CD8_ARIMA
PsA5026CD4_ARIMA
NRHV322_CD8_ARIMA
NRSF055CD8SF_ARIMA
PsA4951_CD4_ARIMA
PSA4959_CD8_ARIMA
PSA4958CD8SF_ARIMA
PsA4951_CD8_ARIMA
NRHV238_CD8_ARIMA
NRHV322_CD4_ARIMA
PSA5010_CD4_ARIMA
PSA5025CD8SF_ARIMA
NRHV056CD8SF_ARIMA
NRHV073_CD4_ARIMA
NRHV073_CD8_ARIMA
NRHV238_CD4_ARIMA
NRHV295CD8_ARIMA
NRHV325CD4_ARIMA
NRHV079CD4_ARIMA
NRHV079CD8_ARIMA
NRHV295CD4_ARIMA
NRHV332CD4_ARIMA
NRHV332CD8_ARIMA)

python ./master_hic_processor.py -i ${FILES[$INDEX]} -s cool